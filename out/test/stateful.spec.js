(function(){var t;t=require("../"),describe("Stateful test suite",function(){var e;return e=function(){return new t.Stateful({disconnected:{connect:"connected",foo:function(){}},connected:{disconnect:"disconnected"}})},it("should construct an instance",function(){var t;return t=e(),expect(t).not.toBeNull()}),it("should default to disconnected",function(){var t;return t=e(),expect(t).not.toBeNull(),expect(t.state()).toBe("disconnected")}),it("should be able to connect and disconnect",function(){var t;return t=e(),expect(t).not.toBeNull(),t.apply("connect"),expect(t.state()).toBe("connected"),t.apply("disconnect"),expect(t.state()).toBe("disconnected")}),it("should emit state transitions",function(t){var n;return n=e(),expect(n).not.toBeNull(),n.on("connected",function(){return expect(n.state()).toBe("connected"),t()}),n.apply("connect")}),it("should emit state events",function(t){var n;return n=e(),expect(n).not.toBeNull(),n.on("foo",function(){return expect(n.state()).toBe("disconnected"),t()}),n.apply("foo")})})}).call(this);
